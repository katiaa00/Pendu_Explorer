/* ---------- Thème & background ---------- */
:root{
  --bg:#0c0f1e;
  --bg-1:#0f1224;
  --bg-2:#11183b;
  --glass:#141a33cc;           
  --glass-soft:#141a33a6;
  --stroke:#2b3564;
  --text:#eef1ff;
  --muted:#aab0d6;
  --accent:#7aa2ff;
  --accent-2:#8b7aff;
  --ok:#5dd39e;
  --danger:#ff6b6b;
  --shadow:0 10px 30px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.25);
}

*{box-sizing:border-box}
html,body{
  margin:0; padding:0; color:var(--text);
  font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  /* Fond: dégradés + léger quadrillage */
  background:
    radial-gradient(1200px 600px at 10% -10%, #1b2352 0%, transparent 60%),
    radial-gradient(1000px 500px at 110% 0%, #1a274a 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg));
  position:relative;
}
html::before{
  content:"";
  position:fixed; inset:0; pointer-events:none; opacity:.08;
  background-image:
    linear-gradient(transparent 95%, #ffffff40 95%),
    linear-gradient(90deg, transparent 95%, #ffffff40 95%);
  background-size: 36px 36px, 36px 36px;
}

.container{max-width:1024px; margin:0 auto; padding:24px}

/* ---------- Titres / textes ---------- */
h1{margin:8px 0 4px; font-size:clamp(26px,3.2vw,40px); letter-spacing:.5px}
.subtitle{color:var(--muted); margin:0 0 18px}

/* ---------- Boutons  ---------- */
.btn{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color:#0b0e1a; border:none; padding:12px 18px; border-radius:14px;
  font-weight:800; text-decoration:none; display:inline-block;
  box-shadow: 0 8px 20px rgba(122,162,255,.35);
  transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
}
.btn:hover{filter:brightness(1.06)}
.btn:active{transform:translateY(1px)}
.btn.outline{
  background:transparent; color:var(--text);
  border:2px solid var(--accent);
  box-shadow:none;
}
.btn:disabled{opacity:.55; pointer-events:none}

.levels{display:flex; gap:14px; flex-wrap:wrap; margin:14px 0 26px}

/* ---------- Cartes---------- */
.rules, .board{
  background: var(--glass);
  border:1px solid rgba(255,255,255,.08);
  border-radius:18px; padding:20px; box-shadow:var(--shadow);
  backdrop-filter: blur(10px);
}
.rules h2{margin:0 0 10px}

/* ---------- Topbar ---------- */
.topbar{
  display:grid; grid-template-columns:1fr auto auto; gap:12px; align-items:center; margin-bottom:16px;
}
.link{color:var(--accent); text-decoration:none; font-weight:700}
.tag{
  background: linear-gradient(135deg,#222c58,#1b2145);
  padding:6px 12px; border-radius:999px; font-size:14px; border:1px solid rgba(255,255,255,.08);
  box-shadow: inset 0 0 8px rgba(0,0,0,.25);
}
.tries{color:var(--muted); font-weight:700}

/* ---------- Zone mot / indices ---------- */
.word{
  margin-top:8px;
  font-size:clamp(28px,6.2vw,44px);
  letter-spacing:10px; word-break:break-word; text-align:center;
  background: linear-gradient(180deg, #1b2244bb, #151b35aa);
  border:1px solid rgba(255,255,255,.07);
  border-radius:16px; padding:18px; box-shadow: inset 0 10px 24px rgba(0,0,0,.28);
}
.used, .hint{color:var(--muted); margin-top:10px; font-size:14px}

/* ---------- Hangman (SVG) ---------- */
.hangman{display:flex; justify-content:center; margin-bottom:14px}
.hangman svg{width:min(520px, 92%); height:auto; filter: drop-shadow(0 10px 20px rgba(0,0,0,.35))}
.pole{ stroke:url(#poleGradient); stroke-width:7; stroke-linecap:round }
.piece{
  stroke: var(--danger); stroke-width:6; stroke-linecap:round; fill:none;
  visibility:hidden; opacity:0; transition: opacity .35s ease;
  /* effet “trace” */
  stroke-dasharray: 160; stroke-dashoffset: 160; transition: stroke-dashoffset .6s ease, opacity .35s ease;
}
/* Astuce: le JS met style="visibility: visible" -> on cible cet état */
.piece[style*="visible"]{ opacity:1; stroke-dashoffset:0 }

/* (dégradé faux pour le mât via filter, mais on laisse une base solide) */
.pole{ stroke:#2f3b77 }

/* ---------- Clavier ---------- */
.keyboard{
  display:grid; gap:10px;
  grid-template-columns: repeat(9, 1fr);
}
@media (max-width:880px){ .keyboard{ grid-template-columns: repeat(8, 1fr) } }
@media (max-width:640px){ .keyboard{ grid-template-columns: repeat(7, 1fr) } }
.key{
  background: linear-gradient(180deg,#212848,#1a2041);
  border:1px solid var(--stroke); color:var(--text);
  padding:12px 0; border-radius:12px; text-align:center; cursor:pointer;
  user-select:none; font-weight:900; letter-spacing:.5px;
  box-shadow: 0 6px 14px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.06);
  transition: transform .08s ease, box-shadow .2s ease, filter .2s ease, background .2s ease, border-color .2s ease;
}
.key:hover{ filter:brightness(1.05) }
.key:active{ transform: translateY(1px); box-shadow: 0 4px 10px rgba(0,0,0,.2) }
.key:disabled{ opacity:.45; cursor:default; filter:none }
.key.hit{
  background: linear-gradient(180deg, rgba(93,211,158,.22), rgba(55,154,116,.22));
  border-color: #48b784; box-shadow: 0 0 0 1px rgba(93,211,158,.25), 0 10px 20px rgba(93,211,158,.15);
}
.key.miss{
  background: linear-gradient(180deg, rgba(255,107,107,.22), rgba(166,54,54,.22));
  border-color: #ff6b6b; box-shadow: 0 0 0 1px rgba(255,107,107,.25), 0 10px 20px rgba(255,107,107,.15);
  animation: shake .25s linear;
}
@keyframes shake{
  0%,100%{ transform:translateX(0) }
  25%{ transform:translateX(-2px) }
  50%{ transform:translateX(2px) }
  75%{ transform:translateX(-1px) }
}

/* ---------- Actions ---------- */
.actions{ display:flex; gap:12px; justify-content:center; margin-top:18px }
.actions .btn{ padding:12px 22px }
.actions .btn.outline{ border-color:#9bb0ff }

/* ---------- Cartes secondaires ---------- */
.rules{
  background: var(--glass-soft);
}

/* ---------- Mode clair  ---------- */
@media (prefers-color-scheme: light){
  :root{
    --bg:#eef2ff;
    --bg-1:#e9edff;
    --bg-2:#e6ebff;
    --text:#0b0e1a;
    --muted:#4b4f6d;
    --accent:#3b66ff;
    --accent-2:#6b5cff;
    --stroke:#ced4ff;
  }
  html, body{
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 10% -10%, #dfe4ff 0%, transparent 60%),
      radial-gradient(1000px 500px at 110% 0%, #e9ecff 0%, transparent 55%),
      linear-gradient(180deg, var(--bg-1), var(--bg));
  }
  .rules,.board{ border-color: rgba(0,0,0,.06) }
  .key{ border-color:#d2d7ff }
}
